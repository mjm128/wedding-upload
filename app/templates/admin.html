<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- Purge Modal -->
    <div id="purge-modal" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; align-items: center; justify-content: center;">
        <div class="glass-card" style="max-width: 400px; text-align: center; padding: 30px; border-color: red;">
            <h2 style="color:red; margin-top:0;">‚ö†Ô∏è PURGE ALL DATA</h2>
            <p>This action cannot be undone. All photos, videos, and records will be deleted.</p>
            <input type="password" id="purge-pin" placeholder="Enter PIN" style="width: 100%; margin: 10px 0; padding: 10px; box-sizing: border-box;">
            <div style="display:flex; gap:10px; margin-top:10px;">
                <button class="btn" style="background-color:#d32f2f; flex:1;" onclick="submitPurge()">CONFIRM PURGE</button>
                <button class="btn-secondary" style="flex:1;" onclick="hidePurgeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <div class="container" style="max-width: 1000px; margin: 0 auto; padding: 20px;">
        <div style="display:flex; justify-content:flex-end; margin-bottom:10px;">
            <a href="/" class="btn-secondary" style="text-decoration:none; display:flex; align-items:center; padding:8px 12px; border-radius:20px;">
                <span style="font-size:1.2em; margin-right:5px;">üè†</span> Home
            </a>
        </div>

        <div class="glass-card">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h1>Admin Dashboard</h1>
                <button class="btn" style="background-color:#d32f2f; color:white; padding:5px 10px; font-size:0.8em;" onclick="showPurgeModal()">PURGE DATA</button>
            </div>

            <div id="stats" style="margin-bottom: 20px; font-size: 0.9em; line-height: 1.6;">
                Loading stats...
            </div>

            <div style="margin-bottom: 20px;">
                <h3>Media Moderation</h3>
                <input type="text" id="media-search" placeholder="Filter media..." style="width: 100%; padding: 10px; margin-bottom: 10px; box-sizing: border-box;" onkeyup="filterMedia()">
            </div>

            <div style="margin-bottom: 20px;">
                <h3>Global Banner</h3>
                <div id="current-banner-display" style="margin-bottom: 10px; font-style: italic; color: var(--accent-color);"></div>
                <input type="text" id="banner-input" placeholder="Enter message..." style="padding: 10px; width: 70%;">
                <button class="btn" onclick="setBanner()">Set Banner</button>
                <button class="btn btn-secondary" onclick="setBanner('')">Clear</button>
            </div>
        </div>

        <div class="glass-card">
            <h2>Media Moderation</h2>
            <div id="media-grid" class="masonry-grid">
                <!-- Loaded via JS -->
            </div>
            <button class="btn" id="load-more-btn" onclick="loadMedia()" style="display:none; width:100%; margin-top:10px;">Load More</button>
        </div>
    </div>

    <script src="/static/js/utils.js"></script>
    <script src="/static/js/admin.js"></script>
</body>
</html>
